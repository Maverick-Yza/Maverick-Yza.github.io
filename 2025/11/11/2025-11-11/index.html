<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>2025.11.11 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Overview 昨日总结 学习笔记 今日总结  昨日总结昨天从早上集合后前往上海参加本周的城市之旅活动，逛了几处没去过的地方，不过最大的收获是从一个来参加的老师那里得知了一个日后会常驻举办的活动——宠物交流活动，以后每周有一次带摩羯出去和别的宠物交流的机会，希望借此机会让它的胆子变大吧，而且希望可以人生同样有爱的主人吧不过可惜的是昨天因为行程安排不妥导致昨天没能赶上晚上的飞盘训练，之后的活动不能">
<meta property="og:type" content="article">
<meta property="og:title" content="2025.11.11">
<meta property="og:url" content="http://example.com/2025/11/11/2025-11-11/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Overview 昨日总结 学习笔记 今日总结  昨日总结昨天从早上集合后前往上海参加本周的城市之旅活动，逛了几处没去过的地方，不过最大的收获是从一个来参加的老师那里得知了一个日后会常驻举办的活动——宠物交流活动，以后每周有一次带摩羯出去和别的宠物交流的机会，希望借此机会让它的胆子变大吧，而且希望可以人生同样有爱的主人吧不过可惜的是昨天因为行程安排不妥导致昨天没能赶上晚上的飞盘训练，之后的活动不能">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-11-11T01:02:33.000Z">
<meta property="article:modified_time" content="2025-11-13T05:30:58.029Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-2025-11-11" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/11/11/2025-11-11/" class="article-date">
  <time class="dt-published" datetime="2025-11-11T01:02:33.000Z" itemprop="datePublished">2025-11-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      2025.11.11
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><ol>
<li>昨日总结</li>
<li>学习笔记</li>
<li>今日总结</li>
</ol>
<h2 id="昨日总结"><a href="#昨日总结" class="headerlink" title="昨日总结"></a>昨日总结</h2><p>昨天从早上集合后前往上海参加本周的城市之旅活动，逛了几处没去过的地方，不过最大的收获是从一个来参加的老师那里得知了一个日后会常驻举办的活动——宠物交流活动，以后每周有一次带摩羯出去和别的宠物交流的机会，希望借此机会让它的胆子变大吧，而且希望可以人生同样有爱的主人吧<br>不过可惜的是昨天因为行程安排不妥导致昨天没能赶上晚上的飞盘训练，之后的活动不能再犯同样的错误了</p>
<h2 id="学习笔记"><a href="#学习笔记" class="headerlink" title="学习笔记"></a>学习笔记</h2><h3 id="计算机体系结构与操作系统"><a href="#计算机体系结构与操作系统" class="headerlink" title="计算机体系结构与操作系统"></a>计算机体系结构与操作系统</h3><p>MIPS 汇编语言入门</p>
<ol>
<li>计算机抽象层级与指令基础<ol>
<li>抽象层级（从高到低）：应用软件→操作系统→架构（程序员视角，定义指令 &#x2F; 操作数位置）→微架构（硬件实现细节）→逻辑→数字电路→模拟电路→器件→物理</li>
<li>指令分类：<ol>
<li>机器语言：二进制码（如01101010 10101101），计算机可直接识别</li>
<li>汇编语言：机器语言的符号表示（如add $s0,$s1,$s2），需汇编器转换</li>
</ol>
</li>
</ol>
</li>
<li>MIPS 架构概述<ol>
<li>学习价值：作为 RISC 架构代表，掌握后易迁移到其他架构</li>
<li>核心特点：<ol>
<li>32 位架构：操作 32 位数据，含32 个 32 位通用寄存器（速度远快于内存，减少访问延迟）</li>
<li>load&#x2F;store 架构：仅通过lw（加载）&#x2F;sw（存储）指令访问内存，其他指令操作寄存器</li>
<li>固定指令长度：所有指令均为 32 位，简化硬件解码</li>
</ol>
</li>
</ol>
</li>
<li>基础算术与逻辑操作<ol>
<li>核心指令格式：多数指令为 “目标寄存器，源寄存器 1，源寄存器 2”（如add $d, $s, $t）</li>
<li>算术指令：<ol>
<li>add $d, $s, $t：$d &#x3D; $s + $t</li>
<li>sub $d, $s, $t：$d &#x3D; $s - $t</li>
<li>addi $d, $s, imm：$d &#x3D; $s + imm （add后面的i意味计算里使用了数字）</li>
</ol>
</li>
<li>复杂表达式实现：需拆分多指令，如 C 代码a&#x3D;b+c-d对应：<br>add $t0, $s1, $s2  # $t0 &#x3D; b + c（临时寄存器存中间结果）<br>sub $s0, $t0, $s3  # $s0 &#x3D; $t0 - d &#x3D; b + c - d</li>
</ol>
</li>
<li>内存访问基础<ol>
<li>内存需求：寄存器仅 32 个，无法存储大量数据，需依赖内存（容量大但速度慢）</li>
<li>寻址模式：<ol>
<li>字寻址：每个 32 位数据（字）对应唯一字地址</li>
</ol>
</li>
<li>字节寻址：MIPS 实际采用字节寻址（每个字节 1 个地址），字地址 &#x3D; 字节地址 ×4（因 1 字 &#x3D; 4 字节），示例：字 2 的字节地址为 8（2×4）</li>
<li>内存操作指令：<ol>
<li>加载字：lw $d, offset($base) -&gt; d &#x3D; 内存[base + offset]（示例：读取字节地址4的字到s3，指令lw $s3,4($0)）</li>
<li>存储字：sw $s, offset($base) -&gt; s &#x3D; 内存[base + offset]()（示例：将t4存入字节地址7，指令sw $t4,0x7($0)）</li>
<li>加载字节（lb）&#x2F; 存储字节（sb）：操作单个字节数据</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>逻辑指令、移位、数组与函数调用</p>
<ol>
<li>逻辑指令<ol>
<li>核心指令（操作寄存器或立即数）：<ol>
<li>and $d, $s, $t：$d &#x3D; $s &amp; $t （用于位掩码，如保留低 8 位：0xF234012F &amp; 0x000000FF &#x3D; 0x0000002F）</li>
<li>or $d, $s, $t：$d &#x3D; $s | $t  （用于组合位域，如0xF2340000 | 0x000012BC &#x3D; 0xF23412BC）</li>
<li>xor $d, $s, $t：$d &#x3D; $s ^ $t （位异或）</li>
<li>nor $d, $s, $t：d&#x3D; (s | $t)  （位或非，用于取反：A nor 0 &#x3D; ~A）</li>
<li>立即数逻辑指令：andi、ori、xori（16 位立即数零扩展，无nori）</li>
</ol>
</li>
</ol>
</li>
<li>移位指令<ol>
<li>指令类型（移位量可为立即数或寄存器）：<ol>
<li>sll $d, $s, shamt：逻辑左移 → $d &#x3D; $s &lt;&lt; shamt（高位补 0，示例：sll $t0,$t1,5 → t0&#x3D;t1 左移 5 位）</li>
<li>srl $d, $s, shamt：逻辑右移 → $d &#x3D; $s &gt;&gt; shamt（低位补 0）</li>
<li>sra $d, $s, shamt：算术右移 → $d &#x3D; $s &gt;&gt;&gt; shamt（高位补符号位，用于有符号数）</li>
</ol>
</li>
<li>应用：左移 1 位等价于 ×2，左移 3 位等价于 ×8（如 C 代码a&#x3D;2*b对应sll $t0,$s1,1）</li>
</ol>
</li>
<li>常量生成与乘除操作<ol>
<li>32 位常量生成：MIPS 立即数仅 16 位，需组合lui（加载高位立即数）和ori：<ol>
<li>示例：C 代码int a&#x3D;0xFEDC8765对应：<br>lui $s0, 0xFEDC  # $s0 &#x3D; 0xFEDC0000（加载高16位）<br>ori $s0, $s0, 0x8765  # $s0 &#x3D; 0xFEDC0000 | 0x8765 &#x3D; 0xFEDC8765</li>
</ol>
</li>
<li>乘除操作：依赖专用寄存器hi（高位结果）和lo（低位结果）：<ol>
<li>乘法：mult $s, $t → 结果（64 位）存入 {hi, lo}，需mfhi $d（读取 hi）、mflo $d（读取 lo）</li>
<li>除法：div $s, $t → 商存入 lo，余数存入 hi，同样通过mfhi&#x2F;mflo读取</li>
</ol>
</li>
</ol>
</li>
<li>数组操作<ol>
<li>数组存储：数组元素连续存储，基地址为首个元素地址（如 5 元素数组 base&#x3D;0x12348000，元素地址为 base、base+4、base+8 等）</li>
<li>单元素操作示例：<br>C 代码：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">array</span>[<span class="number">0</span>] *=<span class="number">2</span>; <span class="built_in">array</span>[<span class="number">1</span>] *=<span class="number">2</span>(base=<span class="number">0x12348000</span>)</span><br></pre></td></tr></table></figure>
汇编代码：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">lui $s0, 0x1234       # $s0 = 0x12340000</span><br><span class="line">ori $s0, $s0, 0x8000  # $s0 = 0x12348000(数组基地址)</span><br><span class="line"></span><br><span class="line">lw $t1, 0($s0)     # $t1 = array[0]</span><br><span class="line">sll $t1, $t1, 1    # $t1 = array[0] * 2</span><br><span class="line">sw $t1, 0($s0)     # array[0] = $t1</span><br><span class="line"></span><br><span class="line">lw $t1, 4($s0)     # $t1 = array[1]</span><br><span class="line">sll $t1, $t1, 1    # $t1 = array[1] * 2</span><br><span class="line">sw $t1, 4($s0)     # array[1] = $t1</span><br></pre></td></tr></table></figure></li>
<li>for 循环操作数组：<br>C 代码：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++) <span class="built_in">array</span>[i] *=<span class="number">8</span></span><br></pre></td></tr></table></figure>
汇编代码：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 初始化：$s0=数组基址(0x23B8F000),$s1=i=0,$t2=1000</span><br><span class="line">lui $s0, 0x23B8</span><br><span class="line">ori $s0, $s0, 0xF000      </span><br><span class="line">addi $s1, $0, 0</span><br><span class="line">addi $t2, $0, 1000</span><br><span class="line"></span><br><span class="line">loop:</span><br><span class="line">slt $t0, $s1, $t2  # $t0=1(i&lt;1000)，否则0</span><br><span class="line">beq $t0, $0, done  # 若i&gt;=1000，跳至done</span><br><span class="line">sll $t0, $s1, 2    # $t0 = i*4(字节偏移)</span><br><span class="line">add $t0, $t0, $s0  # $t0 = array[i]地址</span><br><span class="line">lw $t1, 0($t0)     # $t1 = array[i]</span><br><span class="line">sll $t1, $t1, 3    # $t1 = array[i] *8(左移3位)</span><br><span class="line">sw $t1, 0($t0)     # array[i] = $t1</span><br><span class="line">addi $s1, $s1, 1   # i = i+1</span><br><span class="line">j loop             # 跳回loop</span><br><span class="line"></span><br><span class="line">done:</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>函数调用机制<ol>
<li>核心概念：<ol>
<li>调用者（Caller）：发起调用的函数（如 main）</li>
<li>被调用者（Callee）：被调用的函数（如 sum）</li>
</ol>
</li>
<li><code>MIPS 函数调用约定</code>：<ol>
<li>传参：前 4 个参数通过a0−a3 传递，超过 4 个需用栈</li>
<li>返回值：通过v0−v1 返回</li>
<li>跳转与返回：jal（jump and link）指令跳转（同时将返回地址存入$ra），jr $ra（jump register）指令返回</li>
</ol>
</li>
<li>简单函数示例：<br>C 代码：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;simple(); a=b+c;&#125; <span class="type">void</span> <span class="title function_">simple</span><span class="params">()</span>&#123;<span class="keyword">return</span>;&#125;</span><br><span class="line">```  </span><br><span class="line">汇编代码：</span><br><span class="line">```<span class="keyword">asm</span></span><br><span class="line"><span class="number">0x00400200</span> main: jal simple  # 跳至simple,$ra=<span class="number">0x00400204</span>(下一条指令地址)</span><br><span class="line"><span class="number">0x00400204</span>      add $s0, $s1, $s2  <span class="meta"># a=b+c</span></span><br><span class="line">...</span><br><span class="line"><span class="number">0x00401020</span> simple: jr $ra  # 跳回$ra(<span class="number">0x00400204</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>分支、循环、栈内存与寻址方式<ol>
<li>条件标志（CPSR 寄存器）：  <table>
<thead>
<tr>
<th align="center">标志位</th>
<th align="center">名称</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">N</td>
<td align="center">Negative（负）</td>
<td align="center">指令结果为负（结果第 31 位为 1）</td>
</tr>
<tr>
<td align="center">Z</td>
<td align="center">Zero（零）</td>
<td align="center">指令结果为 0</td>
</tr>
<tr>
<td align="center">C</td>
<td align="center">Carry（进位）</td>
<td align="center">指令执行产生进位 &#x2F; 借位</td>
</tr>
<tr>
<td align="center">V</td>
<td align="center">Overflow（溢出）</td>
<td align="center">指令执行产生溢出</td>
</tr>
</tbody></table>
</li>
<li>分支指令（流程跳转）：用于 “打破顺序执行”，分为条件分支（满足条件才跳）和无条件分支（强制跳），依赖 CPSR 寄存器的标志位（N&#x2F;Z&#x2F;C&#x2F;V）判断条件，核心分支指令如下：<table>
<thead>
<tr>
<th align="center">指令类型</th>
<th align="center">指令</th>
<th align="center">格式</th>
<th align="center">功能</th>
<th align="center">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">条件分支</td>
<td align="center">beq</td>
<td align="center">beq $s, $t, label</td>
<td align="center">若$s &#x3D;&#x3D; $t，跳 label</td>
<td align="center">beq $s0, $s1, target（s0&#x3D;&#x3D;s1 跳 target）</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">bne</td>
<td align="center">bne $s, $t, label</td>
<td align="center">若$s !&#x3D; $t，跳 label</td>
<td align="center">bne $s0, $s1, target（s0!&#x3D;s1 跳 target）</td>
</tr>
<tr>
<td align="center">无条件分支</td>
<td align="center">j</td>
<td align="center">j label</td>
<td align="center">强制跳 label（直接使用地址）</td>
<td align="center">j target（跳 target）</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">jr</td>
<td align="center">jr $s</td>
<td align="center">强制跳 $s 存储的地址（寄存器间接跳转）</td>
<td align="center">jr $ra（跳 $ra 地址，函数返回）</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">jal</td>
<td align="center">jal label</td>
<td align="center">跳 label，并将返回地址存入 $ra</td>
<td align="center">jal sum（调用 sum，保存返回地址）</td>
</tr>
</tbody></table>
</li>
<li>循环与条件语句（if&#x2F;while&#x2F;for）<ol>
<li>MIPS 通过 “分支指令 + 跳转指令” 实现高级语言的条件与循环逻辑，核心是 “判断条件→跳转到对应代码块”</li>
<li>if 语句示例<br>C 代码：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(i == j) f = g + h; f = f - i;(s0=f,s1=g,s2=h,s3=i,$s4=j)</span><br><span class="line">```  </span><br><span class="line">汇编代码：</span><br><span class="line">```<span class="keyword">asm</span></span><br><span class="line">bne $s3, $s4, L1   # 若i!=j,跳L1(跳过<span class="keyword">if</span>体)</span><br><span class="line">add $s0, $s1, $s2  <span class="meta"># <span class="keyword">if</span>体:f = g + h(i==j时执行)</span></span><br><span class="line">L1:</span><br><span class="line">sub $s0, $s0, $s3  # 无论<span class="keyword">if</span>是否执行,都执行f = f - i</span><br></pre></td></tr></table></figure></li>
<li>if-else 语句示例<br>C 代码：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(i == j) f = g + h; <span class="keyword">else</span> f = f - i;</span><br><span class="line">```  </span><br><span class="line">汇编代码：</span><br><span class="line">```<span class="keyword">asm</span></span><br><span class="line">bne $s3, $s4, L1   # 若i!=j,跳L1(执行<span class="keyword">else</span>)</span><br><span class="line">add $s0, $s1, $s2  <span class="meta"># <span class="keyword">if</span>体:f = g + h</span></span><br><span class="line">j done             # 跳done,跳过<span class="keyword">else</span></span><br><span class="line">L1:</span><br><span class="line">sub $s0, $s0, $s3  <span class="meta"># <span class="keyword">else</span>体:f = f -i</span></span><br><span class="line">done:</span><br></pre></td></tr></table></figure></li>
<li>while 循环示例<br>C 代码：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="built_in">pow</span>=<span class="number">1</span>, x=<span class="number">0</span>; <span class="keyword">while</span>(<span class="built_in">pow</span>!=<span class="number">128</span>) &#123; <span class="built_in">pow</span>*=<span class="number">2</span>; x++; &#125;  (s0=<span class="built_in">pow</span>,s1=x)</span><br><span class="line">```  </span><br><span class="line">汇编代码：</span><br><span class="line">```<span class="keyword">asm</span></span><br><span class="line">addi $s0, $<span class="number">0</span>, <span class="number">1</span>    <span class="meta"># pow=1</span></span><br><span class="line">add $s1, $<span class="number">0</span>, $<span class="number">0</span>    <span class="meta"># x=0</span></span><br><span class="line">addi $t0, $<span class="number">0</span>, <span class="number">128</span>  # $t0=<span class="number">128</span> (循环终止条件)</span><br><span class="line"><span class="keyword">while</span>:</span><br><span class="line">beq $s0, $t0, done # 若<span class="built_in">pow</span>==<span class="number">128</span>,跳done (终止循环)</span><br><span class="line">sll $s0, $s0, <span class="number">1</span>    <span class="meta"># pow = pow*2  (左移1位)</span></span><br><span class="line">addi $s1, $s1, <span class="number">1</span>   <span class="meta"># x = x+1</span></span><br><span class="line">j <span class="keyword">while</span>            # 跳回<span class="keyword">while</span>,继续循环</span><br><span class="line">done:</span><br></pre></td></tr></table></figure></li>
<li>for 循环示例<br>C 代码：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> sum=<span class="number">0</span>, i; <span class="keyword">for</span>(i=<span class="number">0</span>; i!=<span class="number">10</span>; i++) sum +=i; (s0=i,s1=sum)</span><br><span class="line">```  </span><br><span class="line">汇编代码：</span><br><span class="line">```<span class="keyword">asm</span></span><br><span class="line">addi $s1, $<span class="number">0</span>, <span class="number">0</span>    <span class="meta"># sum=0</span></span><br><span class="line">add $s0, $<span class="number">0</span>, $<span class="number">0</span>    <span class="meta"># i=0</span></span><br><span class="line">addi $t0, $<span class="number">0</span>, <span class="number">10</span>   # $t0=<span class="number">10</span> (循环终止条件)</span><br><span class="line"><span class="keyword">for</span>:</span><br><span class="line">beq $s0, $t0, done # 若i==<span class="number">10</span>，跳done (终止循环)</span><br><span class="line">add $s1, $s1, $s0  <span class="meta"># sum = sum +i</span></span><br><span class="line">addi $s0, $s0, <span class="number">1</span>   <span class="meta"># i = i+1</span></span><br><span class="line">j <span class="keyword">for</span>              # 跳回<span class="keyword">for</span>,继续循环</span><br><span class="line">done:</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>栈内存深度应用（多函数嵌套与递归）<ol>
<li>栈的核心特性是 “LIFO（后进先出）”，生长方向为 “高地址→低地址”，$sp始终指向栈顶，主要用于：<ol>
<li>保存被调用者需保留的寄存器（s0−s7、$ra）</li>
<li>传递超过 4 个的函数参数</li>
<li>存储递归函数的中间变量</li>
</ol>
</li>
<li>多函数嵌套（保存 $ra）<br>若函数 A 调用函数 B，函数 B 再调用函数 C，jal B会覆盖$ra中 A 的返回地址，因此 B 需先将$ra压栈，再调用 C，示例：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">proc1: # 函数A: 调用proc2</span><br><span class="line">addi $sp, $sp, -4  # 栈扩容4字节(存$ra)</span><br><span class="line">sw $ra, 0($sp)     # 保存proc1的返回地址到栈</span><br><span class="line">jal proc2          # 调用proc2,$ra被更新为proc1中jal后的地址</span><br><span class="line">lw $ra, 0($sp)     # 恢复proc1的返回地址</span><br><span class="line">addi $sp, $sp, 4   # 栈缩容4字节</span><br><span class="line">jr $ra             # 返回proc1的调用者</span><br><span class="line"></span><br><span class="line">proc2: # 函数B: 被proc1调用</span><br><span class="line">jr $ra             # 返回proc1 ($ra存储proc1中jal后的地址)</span><br></pre></td></tr></table></figure></li>
<li>递归函数示例（阶乘）<br>C 代码：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">factorial</span><span class="params">(<span class="type">int</span> n)</span> &#123; <span class="keyword">return</span> n==<span class="number">1</span> ? <span class="number">1</span> : n*factorial(n<span class="number">-1</span>); &#125;</span><br><span class="line">```  </span><br><span class="line">汇编代码（$a0=n，$v0= 返回值）：</span><br><span class="line">```<span class="keyword">asm</span></span><br><span class="line">.data</span><br><span class="line">n: .word <span class="number">5</span>  # 计算<span class="number">5</span>的阶乘</span><br><span class="line"></span><br><span class="line">.text</span><br><span class="line">.globl main</span><br><span class="line">main:</span><br><span class="line">lw $a0, n          # $a0 = <span class="number">5</span> (传入factorial的参数)</span><br><span class="line">jal factorial      # 调用factorial</span><br><span class="line"># 打印结果</span><br><span class="line">li $v0, <span class="number">1</span>          # 系统调用<span class="number">1</span>:打印整数</span><br><span class="line">move $a0, $v0      # $a0 = 阶乘结果 (factorial的返回值)</span><br><span class="line">syscall</span><br><span class="line"># 退出程序</span><br><span class="line">li $v0, <span class="number">10</span>         # 系统调用<span class="number">10</span>: 退出</span><br><span class="line">syscall</span><br><span class="line"></span><br><span class="line">factorial:</span><br><span class="line"># <span class="number">1.</span> 栈扩容<span class="number">8</span>字节 (存$ra和$a0,递归需保存n)</span><br><span class="line">addi $sp, $sp, <span class="number">-8</span></span><br><span class="line">sw $ra, <span class="number">4</span>($sp)     # 保存当前返回地址到栈偏移<span class="number">4</span></span><br><span class="line">sw $a0, <span class="number">0</span>($sp)     # 保存当前n到栈偏移<span class="number">0</span></span><br><span class="line"></span><br><span class="line"># <span class="number">2.</span> 递归终止条件: n==<span class="number">1</span></span><br><span class="line">li $v0, <span class="number">1</span>          # $v0=<span class="number">1</span> (终止条件返回值)</span><br><span class="line">beq $a0, $v0, base_case # 若n==<span class="number">1</span>,跳base_case</span><br><span class="line"></span><br><span class="line"># <span class="number">3.</span> 递归调用: factorial(n<span class="number">-1</span>)</span><br><span class="line">addi $a0, $a0, <span class="number">-1</span>  # $a0 = n<span class="number">-1</span></span><br><span class="line">jal factorial      # 调用factorial(n<span class="number">-1</span>),$ra更新为当前jal后的地址</span><br><span class="line"></span><br><span class="line"># <span class="number">4.</span> 计算n * factorial(n<span class="number">-1</span>)</span><br><span class="line">lw $a0, <span class="number">0</span>($sp)     # 恢复当前n (从栈中取)</span><br><span class="line">mul $v0, $a0, $v0  # $v0 = n * factorial(n<span class="number">-1</span>) (返回值)</span><br><span class="line"></span><br><span class="line"># <span class="number">5.</span> 恢复寄存器+栈缩容</span><br><span class="line">base_case:</span><br><span class="line">lw $ra, <span class="number">4</span>($sp)     # 恢复返回地址</span><br><span class="line">addi $sp, $sp, <span class="number">8</span>   # 栈缩容<span class="number">8</span>字节</span><br><span class="line">jr $ra             # 返回调用者</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="今日总结"><a href="#今日总结" class="headerlink" title="今日总结"></a>今日总结</h2><ol>
<li>今天速学了html和css的一些基础知识</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/11/11/2025-11-11/" data-id="cmi4l8nm40005qcvp12vnegi2" data-title="2025.11.11" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/11/18/2025-11-18/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          2025.11.18
        
      </div>
    </a>
  
  
    <a href="/2025/11/07/2025-11-7/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">2025.11.7</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/11/">November 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/10/">October 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">September 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/11/18/2025-11-18/">2025.11.18</a>
          </li>
        
          <li>
            <a href="/2025/11/11/2025-11-11/">2025.11.11</a>
          </li>
        
          <li>
            <a href="/2025/11/07/2025-11-7/">2025.11.7</a>
          </li>
        
          <li>
            <a href="/2025/11/06/2025-11-6/">2025.11.6</a>
          </li>
        
          <li>
            <a href="/2025/11/05/2025-11-5/">2025.11.5</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>